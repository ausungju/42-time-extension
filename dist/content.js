(()=>{"use strict";const t=document.querySelector("h1");var e;function n(t){return["",e.Jan,e.Feb,e.Mar,e.Apr,e.May,e.Jun,e.Jul,e.Aug,e.Sep,e.Oct,e.Nov,e.Dec][Number(t)]}t&&(t.textContent="42-time"),console.log("hello"),function(t){t.Jan="jan",t.Feb="feb",t.Mar="mar",t.Apr="apr",t.May="may",t.Jun="jun",t.Jul="jul",t.Aug="aug",t.Sep="sep",t.Oct="oct",t.Nov="nov",t.Dec="dec"}(e||(e={})),(async()=>{const t=document.querySelector(".login"),e=t?.dataset.login;if(!e)return;const o=await async function(t){try{const e=await fetch(`https://translate.intra.42.fr/users/${t}/locations_stats.json`,{credentials:"include"});if(!e.ok)throw new Error("네트워크 오류");const n=await e.json();return console.log("인증된 데이터:",n),n}catch(t){return console.error("요청 실패:",t),null}}(e);if(o){const t=function(t){const e={};for(const o in t){const[r,i]=o.split("-"),s=n(i),c=t[o].split(".")[0],[a,u,l]=c.split(":").map(Number);e[s]||(e[s]={hour:0,min:0}),e[s].hour+=a,e[s].min+=u}for(const[t,n]of Object.entries(e))if(n){const t=n.min;n.hour+=Math.floor(t/60),n.min=t%60}return e}(o);console.log(t);const e=document.getElementById("user-locations");e&&e.querySelectorAll("text").forEach(n=>{const o=n.textContent?.trim().toLowerCase();if(o&&t[o]){const{hour:r,min:i}=t[o],s=n.getAttribute("x"),c=n.getAttribute("y");if(!Array.from(e.querySelectorAll("text")).some(t=>t!==n&&t.getAttribute("x")===s&&t.getAttribute("y")===(parseInt(c)+12).toString()&&t.textContent?.match(/\d+h \d+m/))){const t=document.createElementNS("http://www.w3.org/2000/svg","text");t.setAttribute("x",s),t.setAttribute("y",(parseInt(c)+12).toString()),t.setAttribute("fill","#007B7C"),t.setAttribute("font-size","10"),t.setAttribute("font-family","sans-serif"),t.textContent=`${r.toString().padStart(2,"0")}h ${i.toString().padStart(2,"0")}m`,n.nextSibling?n.parentNode.insertBefore(t,n.nextSibling):n.parentNode.appendChild(t)}}})}})()})();